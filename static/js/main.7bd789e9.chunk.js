(this.webpackJsonpyuivae=this.webpackJsonpyuivae||[]).push([[0],{53:function(t,e,n){"use strict";n.r(e),n.d(e,"history",(function(){return Jn}));var r=n(1),a=n.n(r),s=n(26),i=n(11),c=n(14),o=n(3),u=n(13),l=n(24),h=n(2),d=n(12),p=n(10),b=n.n(p),j="SIGNUP_REQUESTED",g="SIGNUP_SUCCESSFUL",f="SIGNUP_FAILED",O="IDENTITY_IDLE",x="IDENTITY_REQUESTED",m="IDENTITY_RECEIVED",v="IDENTITY_FAILED",y="CONTENT_REQUESTED",S="CONTENT_RECEIVED",C="CONTENT_FAILED",k="REQUEST_INITIALISED",w="REQUEST_SUCCESSFUL",E="REQUEST_FAILED",F="ATTEMPT_IN_PROGRESS",I="EXERCISE_CREATED",T="EXERCISE_FAILED",D="PRACTICE_SUCCESSFUL",L="PRACTICE_FAILED",R="PRACTICE_IDLE",P={userContent:{},contentStatus:"CONTENT_IDLE"},M=function(){return{type:C}},z=function(t){return function(){var e=Object(d.a)(b.a.mark((function e(n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:y}),t){e.next=4;break}return n(M()),e.abrupt("return");case 4:return e.prev=4,e.next=7,fetch("/getSession",{method:"POST",body:JSON.stringify({uid:t})});case 7:if(!((r=e.sent).status<300)){e.next=15;break}return e.next=11,r.json();case 11:a=e.sent,n({type:S,payload:a}),e.next=16;break;case 15:n(M());case 16:e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(4),n(M()),new Error("User data could not be fetched: ".concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}()};var A="Practice",_="Vocabulary",N="/dashboard",U="/login",B=[N],Y=function(){return{type:v}},W=function(){return{type:v}},q={uid:"",identityStatus:O,language:"cs"};function J(){return{type:k}}function X(){return{type:w}}function H(){return{type:E}}var Q=function(t){return function(){var e=Object(d.a)(b.a.mark((function e(n){var r,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(J()),r=t.uid,a=t.language,s=t.category,r||a||s){e.next=5;break}return n(H()),e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch("/addCategory",{method:"POST",body:JSON.stringify(t)});case 8:if(!(e.sent.status<300)){e.next=15;break}return e.next=12,z(r)(n);case 12:n(X()),e.next=16;break;case 15:n(H());case 16:e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(5),n(H()),new Error("Request to server failed ".concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}()},G={status:"REQUEST_IDLE",message:""};var V="RECEIVED_MODAL_ITEMS",K="OPEN_MODAL",Z="CLOSE_MODAL",$={modalItems:[],triggeredBy:"",isModalOpen:!1},tt=function(t,e){return{type:V,payload:{modalItems:t,triggeredBy:e}}},et=function(){return{type:K}},nt=function(){return{type:Z}};var rt,at,st,it,ct,ot,ut,lt,ht,dt,pt,bt,jt,gt,ft,Ot,xt,mt,vt,yt,St={czech:"cs",english:"en"},Ct={high:1,medium:3},kt=function(t){return Math.floor(Math.random()*t)},wt=function(){return{type:L}},Et=0,Ft=function t(e,n,r){var a;r[0]={isCorrect:!0,phrase:n[1],id:n[0]};for(var s=1;s<4;s++){a=kt(e.length),r.some((function(t){return t.phrase.inEnglish===e[a][1].inEnglish}))?Et<400&&(Et++,t(e,n,r)):(r[s]={isCorrect:!1,phrase:e[a][1],id:e[a][0]},Et=0)}return r=r.filter((function(t){return!!t}))},It={assembleStatus:"EMPTY_EXERCISE",options:[],result:R},Tt=function(){return{type:f}},Dt={signupStatus:"SIGNUP_IDLE"},Lt=Object(l.b)({user:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return Object(h.a)(Object(h.a)({},t),{},{identityStatus:x});case m:return Object(h.a)(Object(h.a)({},t),{},{uid:e.payload,identityStatus:m});case v:return Object(h.a)(Object(h.a)({},t),{},{uid:"",identityStatus:v});default:return t}},request:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:return Object(h.a)({},t);case w:return Object(h.a)(Object(h.a)({},t),{},{status:w,message:"Your phrase has been added successfully."});case E:return Object(h.a)(Object(h.a)({},t),{},{status:E,message:"Your phrase could not be added."});default:return t}},content:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return Object(h.a)(Object(h.a)({},t),{},{contentStatus:y});case S:return Object(h.a)(Object(h.a)({},t),{},{userContent:e.payload,contentStatus:S});case C:return Object(h.a)(Object(h.a)({},t),{},{contentStatus:C});default:return t}},modal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case V:return Object(h.a)(Object(h.a)({},t),{},{modalItems:e.payload.modalItems,triggeredBy:e.payload.triggeredBy});case K:return Object(h.a)(Object(h.a)({},t),{},{isModalOpen:!0});case Z:return Object(h.a)(Object(h.a)({},t),{},{isModalOpen:!1});default:return t}},exercise:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return Object(h.a)(Object(h.a)({},t),{},{assembleStatus:F});case I:return Object(h.a)(Object(h.a)({},t),{},{assembleStatus:I,options:e.payload});case T:return Object(h.a)(Object(h.a)({},t),{},{assembleStatus:T});case R:return Object(h.a)(Object(h.a)({},t),{},{result:R});case D:return Object(h.a)(Object(h.a)({},t),{},{result:D});case L:return Object(h.a)(Object(h.a)({},t),{},{result:L});default:return t}},signupState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return{signupStatus:j};case g:return{signupStatus:g};case f:return{signupStatus:f};default:return t}}}),Rt=n(34),Pt=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t},Mt=Object(l.a)(Rt.a),zt=Object(l.c)(Mt,Pt),At=Object(l.d)(Lt,zt),_t=n(5),Nt=n(6),Ut=n(7),Bt=n(8),Yt=n(0),Wt=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"componentDidMount",value:function(){this.props.load&&this.props.load()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.load&&t.load!==this.props.load&&this.props.load()}},{key:"render",value:function(){return Object(Yt.jsx)("div",{children:"Loading..."})}}]),n}(r.Component),qt=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"render",value:function(){if(!B.some((function(t){return Jn.location.pathname.includes(t)})))return null;var t=this.props,e=t.user,n=e.uid,r=e.identityStatus,a=t.content.contentStatus,s=t.retrieveIdentity,c=t.getUserData,o=r===m&&a===S,u=r===v||a===C;return r===x||a===y?Object(Yt.jsx)(Wt,{}):o?this.props.children:r===O?Object(Yt.jsx)(Wt,{load:s,message:"retrieving identity"}):n&&!u&&a!==y?Object(Yt.jsx)(Wt,{load:function(){return c(n)},message:"retrieving data"}):Object(Yt.jsx)(i.a,{to:U})}}]),n}(r.Component),Jt={getUserData:z,retrieveIdentity:function(){return function(){var t=Object(d.a)(b.a.mark((function t(e){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:x}),t.prev=1,t.next=4,fetch("/getIdentity",{method:"GET"});case 4:if(!((n=t.sent).status<300)){t.next=12;break}return t.next=8,n.text();case 8:r=t.sent,e({type:m,payload:r}),t.next=13;break;case 12:e(Y());case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(1),e(Y()),new Error("Error occurred trying to get user data: ".concat(t.t0));case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}},Xt=Object(u.b)((function(t){return{user:t.user,content:t.content}}),Jt)(qt),Ht=n(4),Qt="#42D77E",Gt="#FF83A1",Vt="#646464",Kt="#F5F5F5",Zt="#FFFFFF",$t="#353535",te="#DBDBDB",ee="#F5F5F5",ne="3px",re="10px",ae="20px",se="40px",ie={buttonWidth:"50px",itemHeight:"50px",small:"60px",medium:"140px",large:"200px"},ce={borderRadius:"5px",actionRadius:"50%",borderThickness:"2px",textAreaHeight:"70px",thinFontWeight:300,regularFontWeight:400,thickFontWeight:600,smallFontSize:"12px",regularFontSize:"14px",largeFontSize:"16px",titleFontSize:"20px",actionFontSize:"28px",highOpacity:.6,lowOpacity:.3,zFirstLevel:9999,zSecondLevel:999,boxShadow:"4px 4px 12px ".concat("#18171c39"),transitionFast:"200ms",transitionSlow:"400ms"},oe={colors:{text:{submit:Zt,cancel:Zt,regular:Vt,button:Zt},background:{submit:Qt,cancel:Gt,regular:Kt,button:$t},circle:{regular:{textColor:Vt,pathColor:Vt,trailColor:Kt},submit:{textColor:Vt,pathColor:Qt,trailColor:Kt}}},getAppearanceColor:function(t,e){return this.colors[e][t]}},ue=Object(o.b)(rt||(rt=Object(Ht.a)(["\n\n  @import url(\"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap\");\n\n  html {\n    overflow: hidden;\n  }\n\n  body {\n    font-family: 'Montserrat', sans-serif;\n    font-weight: 400;\n    height: 100vh;\n    width: 100vw;\n    box-sizing: border-box;\n    overflow: hidden;\n    margin: 0;\n    color: ",";\n    letter-spacing: 0.8px;\n\n    * {\n      box-sizing: inherit;\n      font-family: inherit;\n    }\n  }\n\n  button {\n    outline: none;\n    background: transparent;\n    border: none;\n    color: ",";\n    letter-spacing: inherit;\n  }\n\n  #root {\n    height: 100%;\n    width: 100%;\n  }\n\n  h3 {\n    font-weight: 400;\n  }\n"])),Vt,Vt),le=o.c.div(at||(at=Object(Ht.a)(["\n\tposition: relative;\n\tpadding: 30px ",";\n\tdisplay: flex;\n\tjustify-content: center;\n\topacity: ",";\n\tp {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tmargin: 0;\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t\tpadding: 0 3px;\n\t\tfont-weight: ",";\n\t\tletter-spacing: 0;\n\t\tspan {\n\t\t\tfont-weight: ",";\n\t\t}\n\t}\n"])),(function(t){return t.hasFullLength?0:ae}),ce.lowOpacity,Vt,Zt,ce.thinFontWeight,ce.thickFontWeight),he=o.c.span(st||(st=Object(Ht.a)(["\n\tflex-grow: ",";\n\theight: 1px;\n\tbackground-color: ",";\n"])),(function(t){return t.hasFullLength?1:.8}),Vt),de=o.c.nav(it||(it=Object(Ht.a)(["\n\tdisplay: flex;\n\tpadding: ",";\n\tjustify-content: space-between;\n\tmargin-bottom: ",";\n\th2 {\n\t\tcolor: ",";\n\t\tfont-weight: 600;\n\t\tfont-size: 18px;\n\t\tmargin: 0;\n\t}\n"])),ae,re,$t),pe=o.c.div(ct||(ct=Object(Ht.a)(["\n\tdisplay: flex;\n"]))),be=o.c.div(ot||(ot=Object(Ht.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n  height: 100%;\n  \n"]))),je=o.c.div(ut||(ut=Object(Ht.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: ",";\n\talign-items: ",";\n\tmargin-bottom: ",";\n\tborder-radius: ",";\n\tz-index: ",";\n\tbox-shadow: ",";\n\tbackground-color: ",";\n"])),(function(t){return t.isCentered?"center":""}),(function(t){return t.isCentered?"center":""}),se,ce.borderRadius,(function(t){return t.isTopLevel?ce.zFirstLevel:0}),(function(t){return t.isTopLevel?ce.boxShadow:""}),Zt),ge=o.c.div(lt||(lt=Object(Ht.a)(["\n\twidth: ",";\n\theight: ",";\n"])),(function(t){return ie[t.size]}),(function(t){return ie[t.size]})),fe=o.c.div(ht||(ht=Object(Ht.a)(["\n\tpadding: "," 0px "," 4px;\n"])),ae,ae),Oe=o.c.div(dt||(dt=Object(Ht.a)(["\n\tpadding: "," ",";\n\tdisplay: ",";\n\tflex-direction: ",";\n\tjustify-content: space-between;\n"])),re,se,(function(t){return t.flex?"flex":"block"}),(function(t){return t.column?"column":"row"})),xe=o.c.div(pt||(pt=Object(Ht.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),me=n(21),ve=o.c.button(bt||(bt=Object(Ht.a)(["\n\tcolor: ",";\n\tbackground-color: ",";\n\tpadding: 8px 16px;\n\tmargin: 0 6px;\n\tfont-weight: 300;\n\tfont-size: 14px;\n\tborder-radius: 5px;\n\ttransition: all 50ms ease-in-out;\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: inherit;\n\t}\n\t&:active {\n\t\tbackground-color: ",";\n\t}\n"])),(function(t){return t.theme.getAppearanceColor(t.appearance,"text")}),(function(t){return t.selected&&t.theme.getAppearanceColor(t.appearance,"background")}),te),ye=[A,_],Se=o.c.div(jt||(jt=Object(Ht.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\tmargin: 0 auto "," auto;\n"])),se),Ce={margin:0},ke=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;Object(_t.a)(this,n);var a=(r=e.call(this,t)).props.history.location.pathname.split("/").slice(1)[1];return console.log("@@",r.props.history),r.state={currentSection:a},r}return Object(Nt.a)(n,[{key:"handleClick",value:function(t){this.setState(Object(h.a)(Object(h.a)({},this.state),{},{currentSection:t}))}},{key:"render",value:function(){var t=this;return Object(Yt.jsx)(Yt.Fragment,{children:Object(Yt.jsx)(Se,{children:ye.map((function(e,n){return Object(Yt.jsx)(ve,{appearance:"regular",selected:e.toLowerCase()===t.state.currentSection,style:Ce,children:Object(Yt.jsx)(me.a,{to:"".concat(N,"/").concat(e.toLowerCase()),onClick:function(){return t.handleClick(e.toLowerCase())},children:e})},n)}))})})}}]),n}(r.Component),we=Object(i.g)(ke),Ee=n(23),Fe=n(17),Ie=n(15),Te=o.c.div(gt||(gt=Object(Ht.a)(["\n\tposition: fixed;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100vw;\n\theight: 90vh;\n\ttop: 0;\n\tleft: 0;\n\tz-index: ",";\n\tbackground-color: ",";\n\tbox-shadow: ",";\n\tpadding: "," 0;\n"])),ce.zFirstLevel,Zt,ce.boxShadow,ae),De=o.c.div(ft||(ft=Object(Ht.a)(["\n\tpadding: "," ",";\n\tborder-bottom: "," solid ",";\n\tposition: relative;\n\tmin-height: ",";\n\tdisplay: flex;\n\talign-items: center;\n\n\tinput {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\topacity: 0;\n\t\tpointer-events: ",";\n\t}\n\tlabel {\n\t\tflex: 1;\n\t\theight: 100%;\n\t\tline-height: ",";\n\t}\n"])),re,se,ce.borderThickness,Kt,ie.itemHeight,(function(t){return t.isActive?"auto":"none"}),ie.itemHeight),Le=o.c.div(Ot||(Ot=Object(Ht.a)(["\n\tdisplay: flex;\n\tmargin: auto "," 0 ",";\n"])),se,se),Re=o.c.button(xt||(xt=Object(Ht.a)(["\n\tbackground-color: ",";\n\tflex-grow: 1;\n\tpadding: "," ",";\n\tmargin: 0 ",";\n\tborder-radius: ",";\n\tcolor: ",";\n\tfont-weight: 600;\n\tfont-size: 16px;\n\tcursor: pointer;\n\t&:disabled{\n\t\tbackground-color: ",";\n\t}\n"])),(function(t){return t.theme.getAppearanceColor(t.appearance,"background")}),ae,re,re,ce.borderRadius,(function(t){return t.theme.getAppearanceColor(t.appearance,"text")}),(function(t){return t.theme.getAppearanceColor("regular","background")})),Pe=o.c.div(mt||(mt=Object(Ht.a)(["\n\tmargin: auto;\n\tmargin-bottom: ",";\n\tmargin-top: ",";\n"])),re,(function(t){return t.isCentered?"auto":"unset"})),Me=o.c.button(vt||(vt=Object(Ht.a)(["\n\tdisplay: block;\n\tmargin-top: ",";\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder-radius: ",";\n\twidth: ",";\n\theight: ",";\n\tfont-size: ",";\n"])),re,(function(t){return t.theme.getAppearanceColor(t.appearance,"background")}),(function(t){return t.theme.getAppearanceColor(t.appearance,"text")}),ce.actionRadius,ie.buttonWidth,ie.buttonWidth,ce.actionFontSize),ze=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;Object(_t.a)(this,n),r=e.call(this,t);for(var a={isEditable:{id:""},modalItems:{}},s=0;s<t.modalItems.length;s++)a.modalItems[s]=t.modalItems[s];return r.state=Object(h.a)({},a),r.handleSelection=r.handleSelection.bind(Object(Ie.a)(r)),r}return Object(Nt.a)(n,[{key:"handleSelection",value:function(t,e){e||(this.props.onSelect(t),this.props.closeModal())}},{key:"addModalItem",value:function(){var t=Object.keys(this.state.modalItems).length.toString();this.setState((function(e){return{modalItems:Object(h.a)(Object(h.a)({},e.modalItems),{},Object(Fe.a)({},t,"")),isEditable:{id:t}}}))}},{key:"completeEdit",value:function(){var t=this.state.modalItems,e={};for(var n in t)""!==t[n]&&(e[n]=t[n]);var r=!Object.values(this.state.modalItems).some((function(t){return""===t}));if(this.setState({modalItems:Object(h.a)({},e),isEditable:{id:""}}),r){var a=Object.keys(this.state.modalItems).length-1,s=this.props.user,i={language:s.language,uid:s.uid,category:this.state.modalItems[a]};this.props.onCompleteEdit(i)}}},{key:"handleEdit",value:function(t,e){this.setState((function(n){return{modalItems:Object(h.a)(Object(h.a)({},n.modalItems),{},Object(Fe.a)({},e,t.target.value))}}))}},{key:"render",value:function(){var t=this,e=this.props.closeModal,n=this.state.isEditable,r=Object.entries(this.state.modalItems);return Object(Yt.jsxs)(Te,{children:[Object(Yt.jsx)(Pe,{children:Object(Yt.jsx)(Me,{appearance:"regular",onClick:e,children:"x"})}),r.map((function(e){var r=Object(Ee.a)(e,2),a=r[0],s=r[1],i=a===n.id&&""!==n.id;return Object(Yt.jsxs)(De,{onClick:function(){return t.handleSelection(s,i)},isActive:a===n.id,children:[Object(Yt.jsx)("input",{onFocus:function(){return t.setState({isEditable:{id:a}})},value:s,onChange:function(e){return t.handleEdit(e,a)},name:a}),Object(Yt.jsx)("label",{children:s}),i&&Object(Yt.jsx)("button",{style:{zIndex:999},onClick:t.completeEdit.bind(t),children:"Add"})]},a)})),"category"===this.props.triggeredBy&&Object(Yt.jsx)(Le,{children:Object(Yt.jsx)(Re,{appearance:"submit",onClick:this.addModalItem.bind(this),disabled:!!this.state.isEditable.id,children:"Add new category"})})]})}}]),n}(r.Component),Ae={closeModal:nt},_e=Object(u.b)((function(t){return{modalItems:t.modal.modalItems,triggeredBy:t.modal.triggeredBy,user:t.user}}),Ae)(ze),Ne=o.c.div(yt||(yt=Object(Ht.a)(["\n\tdisplay: flex;\n\tpadding: "," ",";\n\tborder-bottom: "," solid ",";\n\tflex-direction: column;\n\t&::after {\n\t\tcontent: '';\n\t\tdisplay: inline-block;\n\t\tborder-top: 6px solid transparent;\n\t\tborder-bottom: 6px solid transparent;\n\t\tborder-left: 6px solid ",";\n\t\tflex: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\t\tmargin: auto "," auto auto;\n\t}\n\th3 {\n\t\tfont-size: ",";\n\t\tmargin: 0 0 "," 0;\n\t\tcolor: ",";\n\t}\n\tp {\n\t\tfont-size: ",";\n\t\tmargin: 0;\n\t\tcolor: ",";\n\t\topacity: 0.6;\n\t\tfont-weight: ",";\n\t}\n"])),re,se,ce.borderThickness,Kt,$t,re,ce.largeFontSize,ne,$t,ce.smallFontSize,Vt,ce.thinFontWeight),Ue=n(31);n(52);function Be(t){var e=t.appearance,n=t.percentage,r=t.size,a=oe.getAppearanceColor(e,"circle");return"number"===typeof n?Object(Yt.jsx)(ge,{size:r,children:Object(Yt.jsx)(Ue.a,{value:n,text:"".concat(n,"%"),strokeWidth:5,styles:Object(Ue.b)(a)})}):Object(Yt.jsx)(Wt,{})}var Ye,We,qe,Je,Xe,He,Qe,Ge=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"render",value:function(){var t=this,e=this.props.isCorrect;return Object(Yt.jsxs)(Yt.Fragment,{children:[Object(Yt.jsxs)("h1",{children:["Your answer is: ",e?"Correct":"Wrong"]}),Object(Yt.jsx)("button",{onClick:function(){return t.props.onRestart()},children:"OK"})]})}}]),n}(a.a.Component),Ve=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;return Object(_t.a)(this,n),(r=e.call(this,t)).state={progressPercentage:"",selected:{},showResult:!1},r.handleSelect=r.handleSelect.bind(Object(Ie.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(Ie.a)(r)),r}return Object(Nt.a)(n,[{key:"prepareExercise",value:function(){var t=this.props.levelOfDifficulty,e=this.props.category,n=[];"categories"in this.props.content.userContent&&(n=this.props.content.userContent.categories[e].phrases),this.props.assembleExercise(n,t,[])}},{key:"componentDidMount",value:function(){this.prepareExercise();var t=0,e=1;"practiceCount"in this.props.content.userContent&&(e=this.props.content.userContent.practiceCount||1),"categories"in this.props.content.userContent&&(t=this.props.content.userContent.categories[this.props.category].practiceCount),this.setState({progressPercentage:t/e})}},{key:"handleSubmit",value:function(){var t=Object(d.a)(b.a.mark((function t(){var e,n,r,a,s,i,c,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.selected,n=e.isCorrect,r=e.id,a=this.props,s=a.user,i=s.uid,c=s.language,o=a.category,t.next=4,this.props.submitPractice({isCorrect:n,phraseID:r,uid:i,language:c,category:o});case 4:this.setState({showResult:!0});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleSelect",value:function(t){this.setState({selected:t})}},{key:"restartExercise",value:function(){this.props.restartPractice(),this.setState({showResult:!1}),this.prepareExercise()}},{key:"render",value:function(){var t=this,e=this.props.exercise;if(e.assembleStatus!==I)return Object(Yt.jsx)(Wt,{});var n=e.options.filter((function(t){return t.isCorrect}))[0].phrase;return Object(Yt.jsxs)(Te,{children:[Object(Yt.jsxs)(je,{isCentered:!0,children:[Object(Yt.jsx)(Be,{appearance:"regular",size:"large",percentage:this.state.progressPercentage}),Object(Yt.jsx)("h1",{children:"Exercise Count"}),0===e.options.length?Object(Yt.jsx)("div",{children:"Selected category doesn't have more than 4 phrases!"}):Object(Yt.jsxs)("div",{children:[n.phrase," ?"]})]}),Object(Yt.jsx)(le,{hasFullLength:!0,children:Object(Yt.jsx)(he,{hasFullLength:!0})}),e.options.map((function(e){return Object(Yt.jsx)(Le,{children:Object(Yt.jsx)(Re,{appearance:"regular",onClick:function(){return t.handleSelect(e)},children:e.phrase.inEnglish})},e.phrase.inEnglish)})),Object(Yt.jsx)(Le,{children:Object(Yt.jsx)(Re,{appearance:"submit",onClick:this.handleSubmit,children:"SUBMIT"})}),this.state.showResult&&Object(Yt.jsx)(Ge,{isCorrect:this.state.selected.isCorrect,onRestart:this.restartExercise.bind(this)})]})}}]),n}(r.Component),Ke={assembleExercise:function(t,e,n){return function(r){t.length<4&&r({type:T}),r({type:F});var a={},s=0;for(var i in t)t[i].practiceCount<Ct[e]&&(a[i]=t[i],s++);var c=Object.entries(a)[kt(s)],o=Object.entries(t);r(function(t){return{type:I,payload:t}}(function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}(Ft(o,c,n))))}},submitPractice:function(t){return function(){var e=Object(d.a)(b.a.mark((function e(n){var r,a,s,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isCorrect,a=t.language,s=t.uid,i=t.phraseID,c=t.category,r){e.next=4;break}return n(wt()),e.abrupt("return");case 4:return e.prev=4,e.next=7,fetch("/practice",{method:"POST",body:JSON.stringify({phraseID:i,language:a,uid:s,category:c})});case 7:e.sent.ok?n({type:D}):n(wt()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n(wt());case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},restartPractice:function(){return function(t){t({type:R})}}},Ze=Object(u.b)((function(t){return{user:t.user,content:t.content,exercise:t.exercise}}),Ke)(Ve),$e=o.c.p(Ye||(Ye=Object(Ht.a)(["\n\tmargin: 0 0 "," 0;\n\tcolor: ",";\n"])),ne,$t),tn=o.c.p(We||(We=Object(Ht.a)(["\n\tcolor: ",";\n\topacity: 0.6;\n\tfont-weight: ",";\n\tmargin: 0;\n\tfont-size: ",";\n"])),Vt,ce.thinFontWeight,ce.smallFontSize),en=function(t){var e=t.heading,n=t.description,r=(t.count,t.percentage);return Object(Yt.jsxs)(Oe,{flex:!0,children:[Object(Yt.jsxs)(xe,{children:[Object(Yt.jsx)($e,{children:e}),Object(Yt.jsx)(tn,{children:n})]}),Object(Yt.jsx)(ge,{size:"small",children:Object(Yt.jsx)(Be,{appearance:"submit",percentage:r,size:"small"})})]})},nn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;return Object(_t.a)(this,n),(r=e.call(this,t)).categories=[""],"categories"in r.props.content.userContent&&(r.categories=Object.keys(r.props.content.userContent.categories)),r.state={selections:{category:{selected:"",options:r.categories},levelOfDifficulty:{selected:"medium",options:["medium","high"]}},isReadyToExercise:!0,showExercise:!1,mediumDifficultyCount:0,highDifficultyCount:0},r.openMenu=r.openMenu.bind(Object(Ie.a)(r)),r}return Object(Nt.a)(n,[{key:"validateSelection",value:function(){var t=this.props.content.userContent,e=this.state.selections.category.selected,n=this.state.selections.levelOfDifficulty.selected,r=[];"categories"in t&&(r=Object.values(t.categories[e].phrases));var a=r.filter((function(t){return t.practiceCount<Ct[n]}));return!!(r.length>20||a)}},{key:"handleSelection",value:function(t){if("levelOfDifficulty"!==this.props.modal.triggeredBy||this.state.selections.category.selected){var e=this.props.modal.triggeredBy;if(this.setState((function(n){return Object(h.a)(Object(h.a)({},n),{},{selections:Object(h.a)(Object(h.a)({},n.selections),{},Object(Fe.a)({},e,Object(h.a)(Object(h.a)({},n.selections[e]),{},{selected:t})))})})),!!this.state.selections.levelOfDifficulty.selected&&!!this.state.selections.category.selected)this.validateSelection()?(console.log("ready to exercise"),this.setState({isReadyToExercise:!0})):console.log("selected phrase does not fulfill one of the following aspects: \n selected category capacity is less than minExpectedCapacity \n selected difficulty capacity does not exists")}else console.log("select category first")}},{key:"handleCompleteEdit",value:function(){}},{key:"openMenu",value:function(t,e){this.props.setModalItems(e.options,t),this.props.showModal()}},{key:"goToExercise",value:function(){this.state.isReadyToExercise?this.setState({showExercise:!0}):console.log("prepare exercise failed",this.state.isReadyToExercise)}},{key:"render",value:function(){var t=this,e=this.state,n=e.selections,r=e.showExercise;return Object(Yt.jsxs)(be,{children:[this.props.modal.isModalOpen&&Object(Yt.jsx)(_e,{onCompleteEdit:this.handleCompleteEdit.bind(this),onSelect:this.handleSelection.bind(this)}),Object(Yt.jsx)(je,{children:Object.entries(n).map((function(e,n){var r=Object(Ee.a)(e,2),a=r[0],s=r[1];return Object(Yt.jsx)(Ne,{onClick:function(){return t.openMenu(a,s)},children:Object(Yt.jsxs)("div",{children:[Object(Yt.jsx)("h3",{children:s.selected?s.selected:a}),Object(Yt.jsx)("p",{children:""===a?"Choose your ".concat(a):a})]})},n)}))}),Object(Yt.jsxs)(le,{hasFullLength:!0,children:[Object(Yt.jsx)("p",{children:"Statistics"}),Object(Yt.jsx)(he,{hasFullLength:!0})]}),Object(Yt.jsx)(je,{children:n.category.options.map((function(e){var n=0,r=0;("categories"in t.props.content.userContent&&(n=t.props.content.userContent.categories[e].practiceCount),"practiceCount"in t.props.content.userContent)&&(r=n/(t.props.content.userContent.practiceCount||1));return Object(Yt.jsx)(en,{heading:e,description:"Your practice progress in ".concat(e," category"),percentage:r},e)}))}),Object(Yt.jsx)(Le,{children:Object(Yt.jsx)(Re,{appearance:"button",onClick:this.goToExercise.bind(this),children:"START EXERCISE"})}),r&&Object(Yt.jsx)(Ze,{levelOfDifficulty:n.levelOfDifficulty.selected,category:n.category.selected})]})}}]),n}(r.Component),rn={showModal:et,setModalItems:tt},an=Object(u.b)((function(t){return{content:t.content,modal:t.modal}}),rn)(nn),sn=o.c.div(qe||(qe=Object(Ht.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tborder-bottom: 2px solid ",";\n\tpadding: "," 0;\n"])),Kt,re),cn={width:"40%"},on=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"render",value:function(){return Object(Yt.jsxs)(sn,{children:[Object(Yt.jsx)(ve,{as:"button",appearance:"regular",selected:!1,name:"Czech",style:cn,children:this.props.from}),Object(Yt.jsx)(ve,{onClick:this.props.handleSwitch,appearance:"regular",selected:!1,style:{width:"20%"},children:"Switch"}),Object(Yt.jsx)(ve,{as:"button",appearance:"regular",selected:!1,name:"English",style:cn,children:this.props.to})]})}}]),n}(a.a.Component),un=on,ln=o.c.div(Je||(Je=Object(Ht.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),hn=o.c.textarea(Xe||(Xe=Object(Ht.a)(["\n\theight: ",";\n\tborder: none;\n\tresize: none;\n\toutline: none;\n\tpadding: ",";\n\tfont-family: inherit;\n\tflex-grow: 1;\n\tcolor: inherit;\n\t&::placeholder {\n\t\topacity: 0.3;\n\t\tfont-weight: 300;\n\t}\n"])),ce.textAreaHeight,re),dn=o.c.div(He||(He=Object(Ht.a)(["\n\theight: ",";\n\tpadding: ",";\n\tflex-grow: 1;\n\tborder-top: 2px solid ",";\n"])),ce.textAreaHeight,re,Kt),pn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;return Object(_t.a)(this,n),(r=e.call(this,t)).state={isFocused:!1},r}return Object(Nt.a)(n,[{key:"handleFocus",value:function(){this.props.isTypingDisabled?console.error("Make sure to select type and category before translation",this.props.isTypingEnabled):(this.setState({isFocused:!0}),this.props.bringFocus(!0))}},{key:"handleBlur",value:function(){0===this.props.phrase.length&&this.setState({isFocused:!1}),this.props.bringFocus(!1)}},{key:"handleKeyInput",value:function(t){this.props.handleChange(t.target.value)}},{key:"render",value:function(){var t=this,e=this.props,n=e.translatedPhrase,r=e.phrase,a=e.isTypingDisabled,s=a?"Please choose the options above first":"Enter your phrase";return Object(Yt.jsxs)(ln,{children:[Object(Yt.jsx)(hn,{value:r,onFocus:function(){return t.handleFocus()},onBlur:function(){return t.handleBlur()},onChange:function(e){return t.handleKeyInput(e)},placeholder:s,disabled:a}),this.state.isFocused&&Object(Yt.jsx)(dn,{children:n})]})}}]),n}(r.Component),bn=o.c.div(Qe||(Qe=Object(Ht.a)(["\n\tposition: fixed;\n\twidth: 100vw;\n\theight: 100vh;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: ",";\n\topacity: ",";\n\tz-index: ",";\n\tpointer-events: none;\n\ttransition: all ease-in-out ",";\n"])),ee,ce.highOpacity,ce.zSecondLevel,ce.transitionFast);var jn,gn,fn,On,xn,mn,vn,yn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;return Object(_t.a)(this,n),(r=e.call(this,t)).debounceTranslate=void 0,r.categories=[""],"categories"in r.props.content.userContent&&(r.categories=Object.keys(r.props.content.userContent.categories)),r.handleChange=r.handleChange.bind(Object(Ie.a)(r)),r.handleSwitch=r.handleSwitch.bind(Object(Ie.a)(r)),r.state={phrase:"",translatedPhrase:"",targetLanguage:St.czech,inEnglish:"",to:"czech",from:"english",selections:{type:{value:"",options:["word","sentence"]},category:{value:"",options:r.categories}},isReadyToSubmit:!1,hasPhraseFocus:!1},r.debounceTranslate=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=this,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];clearTimeout(e),e=setTimeout((function(){t.apply(r,s)}),n)}}(r.setState,1e3),r}return Object(Nt.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=[],r=[];"categories"in this.props.content.userContent&&(n=Object.keys(t.content.userContent.categories),r=Object.keys(this.props.content.userContent.categories)),n.length!==r.length&&this.setState((function(t){return{selections:Object(h.a)(Object(h.a)({},t.selections),{},{category:Object(h.a)(Object(h.a)({},t.selections.category),{},{options:r})})}}))}},{key:"requestTranslation",value:function(){var t=Object(d.a)(b.a.mark((function t(e,n){var r,a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/translate",{method:"POST",body:JSON.stringify({phrase:e,targetLanguage:n})});case 3:if(!(r=t.sent).ok){t.next=8;break}return t.next=7,r.text();case 7:a=t.sent;case 8:if(!a){t.next=16;break}if(s=n===St.english?a:e,this.setState({translatedPhrase:a,inEnglish:s}),e.split(" ").join("")!==a.split(" ").join("")){t.next=14;break}return console.error("Both phrases are the exact same equal"),t.abrupt("return");case 14:this.state.phrase&&this.state.inEnglish&&this.state.targetLanguage&&this.state.selections.type.value&&this.state.selections.category.value&&(console.log("Phrase is ready to submit"),this.setState({isReadyToSubmit:!0}));case 16:t.next=21;break;case 18:throw t.prev=18,t.t0=t.catch(0),new Error(t.t0);case 21:case"end":return t.stop()}}),t,this,[[0,18]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"handleChange",value:function(t){var e=this;if(0!==t.trim().length){var n=St[this.state.to];this.setState(Object(h.a)(Object(h.a)({},this.state),{},{phrase:t}));this.debounceTranslate((function(){e.requestTranslation(e.state.phrase,n)}))}else this.setState(Object(h.a)(Object(h.a)({},this.state),{},{translatedPhrase:"",phrase:""}))}},{key:"handleSubmit",value:function(){this.state.isReadyToSubmit&&this.props.user.uid&&this.props.initialiseAddPhraseRequest({uid:this.props.user.uid,phrase:this.state.phrase,language:this.props.user.language,category:this.state.selections.category.value,type:this.state.selections.type.value,inEnglish:this.state.inEnglish})}},{key:"handleSwitch",value:function(){this.state.translatedPhrase.length>0?this.setState((function(t){return Object(h.a)(Object(h.a)({},t),{},{phrase:t.translatedPhrase,translatedPhrase:t.phrase,targetLanguage:t.from,to:t.from,from:t.to})})):this.setState((function(t){return Object(h.a)(Object(h.a)({},t),{},{targetLanguage:t.from,to:t.from,from:t.to})}))}},{key:"handleSelection",value:function(t){var e=this;this.setState((function(n){return Object(h.a)(Object(h.a)({},n),{},{selections:Object(h.a)(Object(h.a)({},n.selections),{},Object(Fe.a)({},e.props.modal.triggeredBy,Object(h.a)(Object(h.a)({},n.selections[e.props.modal.triggeredBy]),{},{value:t})))})}))}},{key:"triggerDropdown",value:function(t){var e=this.state.selections[t].options;this.props.setModalItems(e,t),this.props.showModal()}},{key:"handleBringFocus",value:function(t){this.setState({hasPhraseFocus:t})}},{key:"handleModalComplete",value:function(){var t=Object(d.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.props.initialiseAddCategoryRequest(e),t.next=3,this.props.getUserData(this.props.user.uid);case 3:this.props.closeModal();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.selections,n=!(e.type.value&&e.category.value);return Object(Yt.jsxs)(be,{children:[(this.state.hasPhraseFocus||this.props.modal.isModalOpen)&&Object(Yt.jsx)(bn,{}),this.props.modal.isModalOpen&&Object(Yt.jsx)(_e,{onCompleteEdit:this.handleModalComplete.bind(this),onSelect:this.handleSelection.bind(this)}),Object(Yt.jsx)(je,{children:Object(Yt.jsx)(fe,{children:Object.keys(e).map((function(n,r){return Object(Yt.jsxs)(Ne,{onClick:function(){return t.triggerDropdown(n)},children:[Object(Yt.jsx)("h3",{children:n}),Object(Yt.jsx)("p",{children:e[n].value?e[n].value:"Choose ".concat(n)})]},r)}))})}),Object(Yt.jsxs)(je,{isTopLevel:this.state.hasPhraseFocus,children:[Object(Yt.jsxs)(le,{hasFullLength:!0,children:[Object(Yt.jsx)("p",{children:"New phrase"}),Object(Yt.jsx)(he,{hasFullLength:!0})]}),Object(Yt.jsx)(un,{handleSwitch:this.handleSwitch,to:this.state.to,from:this.state.from}),Object(Yt.jsx)(pn,{handleChange:this.handleChange,translatedPhrase:this.state.translatedPhrase,phrase:this.state.phrase,isTypingDisabled:n,bringFocus:this.handleBringFocus.bind(this)})]}),Object(Yt.jsx)(Le,{children:Object(Yt.jsx)(Re,{appearance:"button",onClick:this.handleSubmit.bind(this),children:"ADD PHRASE"})})]})}}]),n}(r.Component),Sn={initialiseAddPhraseRequest:function(t){return function(){var e=Object(d.a)(b.a.mark((function e(n){var r,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(J()),r=t.uid,a=t.phrase,r||a){e.next=5;break}return n(H()),e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch("/addPhrase",{method:"POST",body:JSON.stringify(t)});case 8:if(!((s=e.sent).status<300)){e.next=16;break}return e.next=12,z(r)(n);case 12:n(X()),console.log(s.body),e.next=18;break;case 16:n(H()),console.log(s.body);case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(5),n(H()),new Error("Request to server failed ".concat(e.t0));case 24:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t){return e.apply(this,arguments)}}()},initialiseAddCategoryRequest:Q,setModalItems:tt,showModal:et,closeModal:nt,getUserData:z},Cn=Object(u.b)((function(t){return{content:t.content,modal:t.modal,user:t.user}}),Sn)(yn),kn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"renderSection",value:function(){switch(this.props.match.params.sectionId){case A.toLowerCase():return Object(Yt.jsx)(an,{});case _.toLowerCase():return Object(Yt.jsx)(Cn,{});default:return Object(Yt.jsx)(an,{})}}},{key:"render",value:function(){return this.renderSection()}}]),n}(r.Component),wn=Object(i.g)(kn),En=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"render",value:function(){return Object(Yt.jsxs)(be,{children:[Object(Yt.jsxs)(de,{children:[Object(Yt.jsx)("h2",{children:"YuiLang"}),Object(Yt.jsx)(pe,{children:Object(Yt.jsx)("p",{style:{margin:0},children:"menu"})})]}),Object(Yt.jsx)(we,{}),Object(Yt.jsx)(i.b,{path:"".concat(N,"/:sectionId"),component:wn,exact:!0}),Object(Yt.jsxs)(le,{hasFullLength:!0,children:[Object(Yt.jsxs)("p",{children:["Product of ",Object(Yt.jsx)("span",{children:"Yuivae"})]}),Object(Yt.jsx)(he,{hasFullLength:!1})]})]})}}]),n}(r.Component),Fn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"render",value:function(){return Object(Yt.jsx)(i.d,{children:Object(Yt.jsx)(i.b,{path:N,component:En})})}}]),n}(r.Component),In=Object(i.g)(Fn),Tn=o.c.div(jn||(jn=Object(Ht.a)(["\n  position: relative;\n  padding: ",";\n  display: flex;\n  flex-direction: column;\n  opacity: ",";\n"])),ae,(function(t){return t.hasFocus?1:.6})),Dn=o.c.label(gn||(gn=Object(Ht.a)(["\n  font-size: ",";\n"])),ce.smallFontSize),Ln=o.c.input(fn||(fn=Object(Ht.a)(["\n  padding: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n"])),re,$t),Rn=function(t){var e=Object(r.useState)(!1),n=Object(Ee.a)(e,2),a=n[0],s=n[1];return Object(Yt.jsxs)(Tn,{hasFocus:a,children:[Object(Yt.jsx)(Dn,{htmlFor:t.name,children:t.name}),Object(Yt.jsx)(Ln,Object(h.a)({onFocus:function(){return s(!0)},onBlur:function(){return s(!1)}},t))]})},Pn=Object(o.c)(je)(On||(On=Object(Ht.a)(["\n\tpadding: "," ",";\n\theight: 100%;\n\th1{\n\t\ttext-align: center;\n\t}\n"])),se,re),Mn=Object(o.c)(le)(xn||(xn=Object(Ht.a)(["\n\tmargin-top: auto;\n"]))),zn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;return Object(_t.a)(this,n),(r=e.call(this,t)).state={email:"",password:""},r}return Object(Nt.a)(n,[{key:"handleChange",value:function(t){this.setState(Object(h.a)(Object(h.a)({},this.state),{},Object(Fe.a)({},t.target.name,t.target.value)))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.initialiseLogin({email:this.state.email,password:this.state.password})}},{key:"render",value:function(){var t=this;return Object(Yt.jsxs)(Pn,{children:[Object(Yt.jsxs)("form",{"aria-labelledby":"login-form-title",onSubmit:function(e){return t.handleSubmit(e)},children:[Object(Yt.jsx)("h1",{id:"login-form-title",children:"Login form"}),Object(Yt.jsx)(Rn,{type:"text",value:this.state.email,onChange:function(e){return t.handleChange(e)},name:"email","aria-label":"email"}),Object(Yt.jsx)(Rn,{type:"password",value:this.state.password,onChange:function(e){return t.handleChange(e)},name:"password","aria-label":"password"}),Object(Yt.jsx)(Le,{children:Object(Yt.jsx)(Re,{appearance:"button",type:"submit",children:"Login"})})]}),Object(Yt.jsxs)(Mn,{hasFullLength:!0,children:[Object(Yt.jsxs)("p",{children:["Product of ",Object(Yt.jsx)("span",{children:"Yuivae"})]}),Object(Yt.jsx)(he,{hasFullLength:!1})]})]})}}]),n}(r.Component),An={initialiseLogin:function(t){return function(){var e=Object(d.a)(b.a.mark((function e(n){var r,a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.email,a=t.password,r&&a){e.next=5;break}return n(W()),console.error("either email or password is missing:",r,a),e.abrupt("return");case 5:return e.prev=5,n({type:x}),e.next=9,fetch("/login",{method:"POST",body:JSON.stringify({email:r,password:a})});case 9:if(!((s=e.sent).status<300)){e.next=21;break}return e.next=13,s.json();case 13:return i=e.sent,e.next=16,z(i.user.uid)(n);case 16:n((c=i.user.uid,{type:m,payload:c})),Jn.push("".concat(N)),Jn.go(0),e.next=22;break;case 21:n(W());case 22:e.next=28;break;case 24:throw e.prev=24,e.t0=e.catch(5),n(Y()),new Error("Request failed: ".concat(e.t0));case 28:case"end":return e.stop()}var c}),e,null,[[5,24]])})));return function(t){return e.apply(this,arguments)}}()}},_n=Object(u.b)(void 0,An)(zn),Nn=Object(o.c)(je)(mn||(mn=Object(Ht.a)(["\n\tpadding: "," ",";\n\theight: 100%;\n\th1{\n\t\ttext-align: center;\n\t}\n"])),se,re),Un=Object(o.c)(le)(vn||(vn=Object(Ht.a)(["\n\tmargin-top: auto;\n"]))),Bn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(t){var r;return Object(_t.a)(this,n),(r=e.call(this,t)).state={email:"",password:""},r.handleChange=r.handleChange.bind(Object(Ie.a)(r)),r}return Object(Nt.a)(n,[{key:"handleChange",value:function(t){this.setState(Object(h.a)(Object(h.a)({},this.state),{},Object(Fe.a)({},t.target.name,t.target.value)))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.initialiseSignup({email:this.state.email,password:this.state.password})}},{key:"render",value:function(){var t=this;return Object(Yt.jsxs)(Nn,{children:[Object(Yt.jsxs)("form",{"aria-labelledby":"login-form-title",onSubmit:function(e){return t.handleSubmit(e)},children:[Object(Yt.jsx)("h1",{id:"login-form-title",children:"Signup form"}),Object(Yt.jsx)(Rn,{type:"text",value:this.state.email,onChange:function(e){return t.handleChange(e)},name:"email","aria-label":"email"}),Object(Yt.jsx)(Rn,{type:"password",value:this.state.password,onChange:function(e){return t.handleChange(e)},name:"password","aria-label":"password"}),Object(Yt.jsx)(Le,{children:Object(Yt.jsx)(Re,{appearance:"button",type:"submit",children:"Signup"})})]}),Object(Yt.jsxs)(Un,{hasFullLength:!0,children:[Object(Yt.jsxs)("p",{children:["Product of ",Object(Yt.jsx)("span",{children:"Yuivae"})]}),Object(Yt.jsx)(he,{hasFullLength:!1})]})]})}}]),n}(r.Component),Yn={initialiseSignup:function(t){return function(){var e=Object(d.a)(b.a.mark((function e(n){var r,a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:j}),e.prev=1,r=t.email,a=t.password,e.next=5,fetch("/signUp",{method:"POST",body:JSON.stringify({email:r,password:a})});case 5:if(!(s=e.sent).ok){e.next=18;break}return e.next=9,s.json();case 9:if(!(i=e.sent).user.uid){e.next=13;break}return e.next=13,Q({category:"reading",uid:i.user.uid,language:St.czech})(n);case 13:n({type:g}),Jn.push("".concat(U)),Jn.go(0),e.next=19;break;case 18:n(Tt());case 19:e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(1),n(Tt()),e.t0;case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}()}},Wn=Object(u.b)(void 0,Yn)(Bn),qn=function(t){Object(Ut.a)(n,t);var e=Object(Bt.a)(n);function n(){return Object(_t.a)(this,n),e.apply(this,arguments)}return Object(Nt.a)(n,[{key:"render",value:function(){return Object(Yt.jsxs)("h1",{children:["You encountered an error ",this.props.message&&this.props.message]})}}]),n}(a.a.Component),Jn=Object(c.a)();s.render(Object(Yt.jsx)(u.a,{store:At,children:Object(Yt.jsxs)(i.c,{history:Jn,children:[Object(Yt.jsx)(ue,{}),Object(Yt.jsxs)(o.a,{theme:oe,children:[Object(Yt.jsx)(Xt,{children:Object(Yt.jsx)(In,{})}),Object(Yt.jsxs)(i.d,{children:[Object(Yt.jsx)(i.b,{path:"/",render:function(){return Object(Yt.jsx)(i.a,{to:U})},exact:!0}),Object(Yt.jsx)(i.b,{path:"/error",component:qn}),Object(Yt.jsx)(i.b,{path:U,component:_n,exact:!0}),Object(Yt.jsx)(i.b,{path:"/signup",component:Wn,exact:!0})]})]})]})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.7bd789e9.chunk.js.map